; Listing generated by Microsoft (R) Optimizing Compiler Version 19.15.26726.0 

	TITLE	c:\Dev\Tetris\src\ui\button.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	??0Color@core@@QAE@ABV01@@Z			; core::Color::Color
PUBLIC	?Render@Button@ui@core@@QAEXHH@Z		; core::ui::Button::Render
EXTRN	_TTF_SizeText:PROC
EXTRN	?Instance@Graphics@graphics@core@@SAPAV123@XZ:PROC ; core::graphics::Graphics::Instance
EXTRN	?DrawFillRect@Graphics@graphics@core@@QAEXHHHHVColor@3@@Z:PROC ; core::graphics::Graphics::DrawFillRect
EXTRN	?DrawText@Graphics@graphics@core@@QAEXPAU_TTF_Font@@PBDHHW4TextAlign@23@VColor@3@@Z:PROC ; core::graphics::Graphics::DrawText
; Function compile flags: /Odtp
; File c:\dev\tetris\src\ui\button.cpp
_TEXT	SEGMENT
_textWidth$ = -32					; size = 4
_xPos$ = -28						; size = 4
_yPos$ = -24						; size = 4
_textHeight$ = -20					; size = 4
_color$ = -16						; size = 4
$T1 = -12						; size = 4
tv70 = -8						; size = 4
_this$ = -4						; size = 4
_t_xOffset$ = 8						; size = 4
_t_yOffset$ = 12					; size = 4
?Render@Button@ui@core@@QAEXHH@Z PROC			; core::ui::Button::Render
; _this$ = ecx

; 9    : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 20	 sub	 esp, 32			; 00000020H
  00006	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 10   :     Color color = m_state == BUTTON_OUT_FOCUS ? m_colorOutFocus : m_colorInFocus;

  00009	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  0000c	83 78 14 00	 cmp	 DWORD PTR [eax+20], 0
  00010	75 0b		 jne	 SHORT $LN3@Render
  00012	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00015	83 c1 18	 add	 ecx, 24			; 00000018H
  00018	89 4d f8	 mov	 DWORD PTR tv70[ebp], ecx
  0001b	eb 09		 jmp	 SHORT $LN4@Render
$LN3@Render:
  0001d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00020	83 c2 1c	 add	 edx, 28			; 0000001cH
  00023	89 55 f8	 mov	 DWORD PTR tv70[ebp], edx
$LN4@Render:
  00026	8b 45 f8	 mov	 eax, DWORD PTR tv70[ebp]
  00029	89 45 f4	 mov	 DWORD PTR $T1[ebp], eax
  0002c	8b 4d f4	 mov	 ecx, DWORD PTR $T1[ebp]
  0002f	51		 push	 ecx
  00030	8d 4d f0	 lea	 ecx, DWORD PTR _color$[ebp]
  00033	e8 00 00 00 00	 call	 ??0Color@core@@QAE@ABV01@@Z ; core::Color::Color

; 11   :     Graphics::Instance()->DrawFillRect(t_xOffset, t_yOffset, m_buttonWidth, m_buttonHeight, color);

  00038	51		 push	 ecx
  00039	8b cc		 mov	 ecx, esp
  0003b	8d 55 f0	 lea	 edx, DWORD PTR _color$[ebp]
  0003e	52		 push	 edx
  0003f	e8 00 00 00 00	 call	 ??0Color@core@@QAE@ABV01@@Z ; core::Color::Color
  00044	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00047	8b 48 04	 mov	 ecx, DWORD PTR [eax+4]
  0004a	51		 push	 ecx
  0004b	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0004e	8b 02		 mov	 eax, DWORD PTR [edx]
  00050	50		 push	 eax
  00051	8b 4d 0c	 mov	 ecx, DWORD PTR _t_yOffset$[ebp]
  00054	51		 push	 ecx
  00055	8b 55 08	 mov	 edx, DWORD PTR _t_xOffset$[ebp]
  00058	52		 push	 edx
  00059	e8 00 00 00 00	 call	 ?Instance@Graphics@graphics@core@@SAPAV123@XZ ; core::graphics::Graphics::Instance
  0005e	8b c8		 mov	 ecx, eax
  00060	e8 00 00 00 00	 call	 ?DrawFillRect@Graphics@graphics@core@@QAEXHHHHVColor@3@@Z ; core::graphics::Graphics::DrawFillRect

; 12   :     
; 13   :     i32 textWidth, textHeight;
; 14   :     TTF_SizeText(m_buttonFont, m_buttonLabel, &textWidth, &textHeight);

  00065	8d 45 ec	 lea	 eax, DWORD PTR _textHeight$[ebp]
  00068	50		 push	 eax
  00069	8d 4d e0	 lea	 ecx, DWORD PTR _textWidth$[ebp]
  0006c	51		 push	 ecx
  0006d	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  00070	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  00073	50		 push	 eax
  00074	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00077	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  0007a	52		 push	 edx
  0007b	e8 00 00 00 00	 call	 _TTF_SizeText
  00080	83 c4 10	 add	 esp, 16			; 00000010H

; 15   :     i32 xPos = t_xOffset + m_buttonWidth / 2;

  00083	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00086	8b 00		 mov	 eax, DWORD PTR [eax]
  00088	99		 cdq
  00089	2b c2		 sub	 eax, edx
  0008b	d1 f8		 sar	 eax, 1
  0008d	03 45 08	 add	 eax, DWORD PTR _t_xOffset$[ebp]
  00090	89 45 e4	 mov	 DWORD PTR _xPos$[ebp], eax

; 16   :     i32 yPos = t_yOffset + m_buttonHeight / 2 - textHeight / 2;

  00093	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  00096	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]
  00099	99		 cdq
  0009a	2b c2		 sub	 eax, edx
  0009c	8b c8		 mov	 ecx, eax
  0009e	d1 f9		 sar	 ecx, 1
  000a0	03 4d 0c	 add	 ecx, DWORD PTR _t_yOffset$[ebp]
  000a3	8b 45 ec	 mov	 eax, DWORD PTR _textHeight$[ebp]
  000a6	99		 cdq
  000a7	2b c2		 sub	 eax, edx
  000a9	d1 f8		 sar	 eax, 1
  000ab	2b c8		 sub	 ecx, eax
  000ad	89 4d e8	 mov	 DWORD PTR _yPos$[ebp], ecx

; 17   :     Graphics::Instance()->DrawText(m_buttonFont, m_buttonLabel, xPos, yPos, TEXT_ALIGN_CENTER, m_buttonTextColor);

  000b0	51		 push	 ecx
  000b1	8b cc		 mov	 ecx, esp
  000b3	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000b6	83 c2 10	 add	 edx, 16			; 00000010H
  000b9	52		 push	 edx
  000ba	e8 00 00 00 00	 call	 ??0Color@core@@QAE@ABV01@@Z ; core::Color::Color
  000bf	6a 01		 push	 1
  000c1	8b 45 e8	 mov	 eax, DWORD PTR _yPos$[ebp]
  000c4	50		 push	 eax
  000c5	8b 4d e4	 mov	 ecx, DWORD PTR _xPos$[ebp]
  000c8	51		 push	 ecx
  000c9	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  000cc	8b 42 0c	 mov	 eax, DWORD PTR [edx+12]
  000cf	50		 push	 eax
  000d0	8b 4d fc	 mov	 ecx, DWORD PTR _this$[ebp]
  000d3	8b 51 08	 mov	 edx, DWORD PTR [ecx+8]
  000d6	52		 push	 edx
  000d7	e8 00 00 00 00	 call	 ?Instance@Graphics@graphics@core@@SAPAV123@XZ ; core::graphics::Graphics::Instance
  000dc	8b c8		 mov	 ecx, eax
  000de	e8 00 00 00 00	 call	 ?DrawText@Graphics@graphics@core@@QAEXPAU_TTF_Font@@PBDHHW4TextAlign@23@VColor@3@@Z ; core::graphics::Graphics::DrawText

; 18   : }

  000e3	8b e5		 mov	 esp, ebp
  000e5	5d		 pop	 ebp
  000e6	c2 08 00	 ret	 8
?Render@Button@ui@core@@QAEXHH@Z ENDP			; core::ui::Button::Render
_TEXT	ENDS
; Function compile flags: /Odtp
; File c:\dev\tetris\src\color.hpp
;	COMDAT ??0Color@core@@QAE@ABV01@@Z
_TEXT	SEGMENT
_this$ = -4						; size = 4
_t_color$ = 8						; size = 4
??0Color@core@@QAE@ABV01@@Z PROC			; core::Color::Color, COMDAT
; _this$ = ecx

; 19   :         Color(const Color& t_color)

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	89 4d fc	 mov	 DWORD PTR _this$[ebp], ecx

; 20   :         {
; 21   :             *this = t_color;

  00007	8b 45 08	 mov	 eax, DWORD PTR _t_color$[ebp]
  0000a	8b 08		 mov	 ecx, DWORD PTR [eax]
  0000c	8b 55 fc	 mov	 edx, DWORD PTR _this$[ebp]
  0000f	89 0a		 mov	 DWORD PTR [edx], ecx

; 22   :         }

  00011	8b 45 fc	 mov	 eax, DWORD PTR _this$[ebp]
  00014	8b e5		 mov	 esp, ebp
  00016	5d		 pop	 ebp
  00017	c2 04 00	 ret	 4
??0Color@core@@QAE@ABV01@@Z ENDP			; core::Color::Color
_TEXT	ENDS
END
